{"remainingRequest":"E:\\IProjects\\myapp\\src\\javascript\\node_modules\\thread-loader\\dist\\cjs.js??ref--8-1!E:\\IProjects\\myapp\\src\\javascript\\node_modules\\ts-loader\\index.js??ref--8-2!E:\\IProjects\\myapp\\src\\javascript\\myapp\\application.component.ts","dependencies":[{"path":"E:\\IProjects\\myapp\\src\\javascript\\myapp\\application.component.ts","mtime":1594011470825},{"path":"E:\\IProjects\\myapp\\src\\javascript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\IProjects\\myapp\\src\\javascript\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\IProjects\\myapp\\src\\javascript\\node_modules\\ts-loader\\index.js","mtime":1543302582000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KdmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykgew0KICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7DQogICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAib2JqZWN0IiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gImZ1bmN0aW9uIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpOw0KICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7DQogICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjsNCn07DQp2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHsNCiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJvYmplY3QiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSAiZnVuY3Rpb24iKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTsNCn07DQpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOw0KdmFyIGNvcmVfMSA9IHJlcXVpcmUoIkBhbmd1bGFyL2NvcmUiKTsNCnZhciBmb3Jtc18xID0gcmVxdWlyZSgiQGFuZ3VsYXIvZm9ybXMiKTsNCnZhciBzaG9ydGVuX3VybF9zZXJ2aWNlXzEgPSByZXF1aXJlKCIuL3NlcnZpY2VzL3Nob3J0ZW4tdXJsLnNlcnZpY2UiKTsNCnZhciB1c2VyX3NlcnZpY2VfMSA9IHJlcXVpcmUoIi4vc2VydmljZXMvdXNlci5zZXJ2aWNlIik7DQp2YXIgQXBwbGljYXRpb25Db21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7DQogICAgZnVuY3Rpb24gQXBwbGljYXRpb25Db21wb25lbnQoZm9ybUJ1aWxkZXIsIHNob3J0ZW5VcmxTZXJ2aWNlLCB1c2VyU2VydmljZSkgew0KICAgICAgICB0aGlzLmZvcm1CdWlsZGVyID0gZm9ybUJ1aWxkZXI7DQogICAgICAgIHRoaXMuc2hvcnRlblVybFNlcnZpY2UgPSBzaG9ydGVuVXJsU2VydmljZTsNCiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IHVzZXJTZXJ2aWNlOw0KICAgICAgICB0aGlzLnN0YXR1cyA9ICcnOw0KICAgICAgICB0aGlzLm5hdmlnYXRlU3RhdHVzID0gJyc7DQogICAgICAgIHRoaXMuc2hvcnRlblVybCA9ICcnOw0KICAgICAgICB0aGlzLmZ1bGxVcmwgPSAnJzsNCiAgICAgICAgdGhpcy5lcnJvck1zZyA9ICcnOw0KICAgIH0NCiAgICBBcHBsaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIHRoaXMuYnVpbGRGb3JtTW9kZWwoKTsNCiAgICB9Ow0KICAgIEFwcGxpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5idWlsZEZvcm1Nb2RlbCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIG1vZGVsID0ge307DQogICAgICAgIG1vZGVsWydmdWxsVXJsJ10gPSBbJycsIFtmb3Jtc18xLlZhbGlkYXRvcnMucGF0dGVybignKGh0dHBzPzovLyk/KFtcXGRhLXouLV0rKVxcLihbYS16Ll17Miw2fSlbL1xcdyAuLV0qLz8nKSwgZm9ybXNfMS5WYWxpZGF0b3JzLnJlcXVpcmVkXV07DQogICAgICAgIG1vZGVsWyd1c2VyJ10gPSBbJycsIGZvcm1zXzEuVmFsaWRhdG9ycy5yZXF1aXJlZF07DQogICAgICAgIG1vZGVsWydzaG9ydFVybCddID0gWycnLCBmb3Jtc18xLlZhbGlkYXRvcnMucmVxdWlyZWRdOw0KICAgICAgICB0aGlzLmZvcm1Hcm91cCA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAobW9kZWwpOw0KICAgIH07DQogICAgQXBwbGljYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdlbmVyYXRlVXJsID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgICBjb25zb2xlLmxvZygnR2VuZXJhdGUgVXJsJyk7DQogICAgICAgIGlmICghdGhpcy5pc0ZpZWxkVmFsaWQoJ2Z1bGxVcmwnKSkgew0KICAgICAgICAgICAgYWxlcnQoJ011c3QgYmUgYSB2YWxpZCBVcmwhJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyKSB7DQogICAgICAgICAgICBhbGVydCgnUGxlYXNlIGZpcnN0IGxvZ2luIG9yIHJlZ2lzdGVyIHVzZXIhJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zaG9ydGVuVXJsU2VydmljZS5nZW5lcmF0ZSh7IGZ1bGxVcmw6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnZnVsbFVybCcpLCB1c2VybmFtZTogdGhpcy5jdXJyZW50VXNlciB9KQ0KICAgICAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAocmVzKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY2VzcycpOw0KICAgICAgICAgICAgX3RoaXMudXBkYXRlU3RhdHVzKCdTdWNjZXNzJyk7DQogICAgICAgICAgICBfdGhpcy5zaG9ydGVuVXJsID0gcmVzLnJlc3VsdHMuc2hvcnRVcmw7DQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7DQogICAgICAgICAgICBfdGhpcy51cGRhdGVTdGF0dXMoJ0Vycm9yJyk7DQogICAgICAgICAgICBfdGhpcy5zaG9ydGVuVXJsID0gJyc7DQogICAgICAgICAgICBfdGhpcy5lcnJvck1zZyA9IGVycm9yLm1lc3NhZ2U7DQogICAgICAgIH0pOw0KICAgIH07DQogICAgQXBwbGljYXRpb25Db21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMpIHsNCiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7DQogICAgfTsNCiAgICBBcHBsaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUucmVnaXN0ZXJVc2VyID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgICBjb25zb2xlLmxvZygnTG9naW4vUmVnaXN0ZXIgVXNlcicpOw0KICAgICAgICBpZiAoIXRoaXMuaXNGaWVsZFZhbGlkKCd1c2VyJykpIHsNCiAgICAgICAgICAgIGFsZXJ0KCdVc2VyIGlzIHJlcXVpcmVkIScpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMudXNlclNlcnZpY2UucmVnaXN0ZXIoeyB1c2VybmFtZTogdGhpcy5nZXRGaWVsZFZhbHVlKCd1c2VyJykgfSkNCiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgew0KICAgICAgICAgICAgX3RoaXMuY3VycmVudFVzZXIgPSByZXMucmVzdWx0cy51c2VybmFtZTsNCiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgIH0pOw0KICAgIH07DQogICAgQXBwbGljYXRpb25Db21wb25lbnQucHJvdG90eXBlLm5hdmlnYXRlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgICBjb25zb2xlLmxvZygnTmF2aWdhdGUhJyk7DQogICAgICAgIGlmICghdGhpcy5pc0ZpZWxkVmFsaWQoJ3Nob3J0VXJsJykpIHsNCiAgICAgICAgICAgIGFsZXJ0KCdVcmwgUmVxdWlyZWQhJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyKSB7DQogICAgICAgICAgICBhbGVydCgnUGxlYXNlIGZpcnN0IGxvZ2luIG9yIHJlZ2lzdGVyIHVzZXIhJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zaG9ydGVuVXJsU2VydmljZS5uYXZpZ2F0ZSh7IHNob3J0VXJsOiB0aGlzLmdldEZpZWxkVmFsdWUoJ3Nob3J0VXJsJyksIHVzZXJuYW1lOiB0aGlzLmN1cnJlbnRVc2VyIH0pDQogICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzJyk7DQogICAgICAgICAgICBfdGhpcy5uYXZpZ2F0ZVN0YXR1cyA9ICdTdWNjZXNzJzsNCiAgICAgICAgICAgIF90aGlzLmZ1bGxVcmwgPSByZXMucmVzdWx0cy5mdWxsVXJsOw0KICAgICAgICAgICAgX3RoaXMucmVxdWVzdCA9IHJlcy5yZXN1bHRzLmV4cGlyYXRpb247DQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yJyk7DQogICAgICAgICAgICBfdGhpcy5uYXZpZ2F0ZVN0YXR1cyA9ICdGYWlsdXJlJzsNCiAgICAgICAgICAgIF90aGlzLmVycm9yTXNnID0gZXJyb3IuZXJyb3IubWVzc2FnZTsNCiAgICAgICAgICAgIF90aGlzLmZ1bGxVcmwgPSAnJzsNCiAgICAgICAgICAgIF90aGlzLnJlcXVlc3QgPSAnJzsNCiAgICAgICAgfSk7DQogICAgfTsNCiAgICBBcHBsaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaXNGaWVsZFZhbGlkID0gZnVuY3Rpb24gKGZpZWxkKSB7DQogICAgICAgIHJldHVybiB0aGlzLmZvcm1Hcm91cC5jb250cm9sc1tmaWVsZF0udmFsaWQ7DQogICAgfTsNCiAgICBBcHBsaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0RmllbGRWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCkgew0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtR3JvdXAuY29udHJvbHNbZmllbGRdLnZhbHVlOw0KICAgIH07DQogICAgdmFyIF9hLCBfYiwgX2M7DQogICAgQXBwbGljYXRpb25Db21wb25lbnQgPSBfX2RlY29yYXRlKFsNCiAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7DQogICAgICAgICAgICBzZWxlY3RvcjogImFwcGxpY2F0aW9uLWNvbXBvbmVudCIsDQogICAgICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgiLi9hcHBsaWNhdGlvbi5jb21wb25lbnQuaHRtbCIpLA0KICAgICAgICAgICAgc3R5bGVzOiBbU3RyaW5nKHJlcXVpcmUoIi4vYXBwbGljYXRpb24uY29tcG9uZW50Lmxlc3MiKSldDQogICAgICAgIH0pLA0KICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIGZvcm1zXzEuRm9ybUJ1aWxkZXIgIT09ICJ1bmRlZmluZWQiICYmIGZvcm1zXzEuRm9ybUJ1aWxkZXIpID09PSAiZnVuY3Rpb24iID8gX2EgOiBPYmplY3QsIHR5cGVvZiAoX2IgPSB0eXBlb2Ygc2hvcnRlbl91cmxfc2VydmljZV8xLlNob3J0ZW5VcmxTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBzaG9ydGVuX3VybF9zZXJ2aWNlXzEuU2hvcnRlblVybFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgdXNlcl9zZXJ2aWNlXzEuVXNlclNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIHVzZXJfc2VydmljZV8xLlVzZXJTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0XSkNCiAgICBdLCBBcHBsaWNhdGlvbkNvbXBvbmVudCk7DQogICAgcmV0dXJuIEFwcGxpY2F0aW9uQ29tcG9uZW50Ow0KfSgpKTsNCmV4cG9ydHMuQXBwbGljYXRpb25Db21wb25lbnQgPSBBcHBsaWNhdGlvbkNvbXBvbmVudDsNCg=="},{"version":3,"file":"E:\\IProjects\\myapp\\src\\javascript\\myapp\\application.component.ts","sourceRoot":"","sources":["E:\\IProjects\\myapp\\src\\javascript\\myapp\\application.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\n\r\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\r\nimport {ShortenUrlService} from \"./services/shorten-url.service\";\r\nimport {UserService} from \"./services/user.service\";\r\n\r\n@Component({\r\n    selector: \"application-component\",\r\n    template: require(\"./application.component.html\"),\r\n    styles: [String(require(\"./application.component.less\"))]\r\n})\r\nexport class ApplicationComponent implements OnInit {\r\n\r\n    status: string = '';\r\n    navigateStatus: string = '';\r\n    shortenUrl: string = '';\r\n    fullUrl: string = '';\r\n    request: any;\r\n    formGroup: FormGroup;\r\n    currentUser: string;\r\n    errorMsg: string = '';\r\n\r\n    constructor(private formBuilder: FormBuilder,\r\n                private shortenUrlService: ShortenUrlService,\r\n                private userService: UserService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.buildFormModel();\r\n    }\r\n\r\n    private buildFormModel() {\r\n        let model = {};\r\n\r\n        model['fullUrl'] = ['', [Validators.pattern('(https?://)?([\\\\da-z.-]+)\\\\.([a-z.]{2,6})[/\\\\w .-]*/?'), Validators.required]];\r\n        model['user'] = ['', Validators.required];\r\n        model['shortUrl'] = ['', Validators.required];\r\n\r\n        this.formGroup = this.formBuilder.group(model);\r\n    }\r\n\r\n    private generateUrl() {\r\n        console.log('Generate Url');\r\n        if (!this.isFieldValid('fullUrl')) {\r\n            alert('Must be a valid Url!');\r\n            return;\r\n        }\r\n\r\n        if (!this.currentUser) {\r\n            alert('Please first login or register user!');\r\n            return;\r\n        }\r\n\r\n        this.shortenUrlService.generate({fullUrl: this.getFieldValue('fullUrl'), username: this.currentUser})\r\n            .subscribe((res: any) => {\r\n                console.log('success');\r\n                this.updateStatus('Success')\r\n                this.shortenUrl = res.results.shortUrl;\r\n            }, error => {\r\n                console.log('error');\r\n                this.updateStatus('Error');\r\n                this.shortenUrl = '';\r\n                this.errorMsg = error.message;\r\n            });\r\n    }\r\n\r\n    private updateStatus(status: string) {\r\n        this.status = status;\r\n    }\r\n\r\n    private registerUser() {\r\n        console.log('Login/Register User');\r\n\r\n        if (!this.isFieldValid('user')) {\r\n            alert('User is required!');\r\n            return;\r\n        }\r\n        this.userService.register({username: this.getFieldValue('user')})\r\n            .subscribe((res: any) => {\r\n                this.currentUser = res.results.username;\r\n            }, error => {\r\n\r\n            });\r\n    }\r\n\r\n    private navigate() {\r\n        console.log('Navigate!');\r\n\r\n        if (!this.isFieldValid('shortUrl')) {\r\n            alert('Url Required!');\r\n            return;\r\n        }\r\n\r\n        if (!this.currentUser) {\r\n            alert('Please first login or register user!');\r\n            return;\r\n        }\r\n        this.shortenUrlService.navigate({shortUrl: this.getFieldValue('shortUrl'), username: this.currentUser})\r\n            .subscribe((res: any) => {\r\n                console.log('Success');\r\n                this.navigateStatus = 'Success';\r\n                this.fullUrl = res.results.fullUrl\r\n                this.request = res.results.expiration;\r\n            }, (error: any) => {\r\n                console.log('Error');\r\n                this.navigateStatus = 'Failure';\r\n                this.errorMsg = error.error.message;\r\n                this.fullUrl = '';\r\n                this.request = '';\r\n            });\r\n    }\r\n\r\n    private isFieldValid(field: string) {\r\n        return this.formGroup.controls[field].valid;\r\n    }\r\n\r\n    private getFieldValue(field: string) {\r\n        return this.formGroup.controls[field].value;\r\n    }\r\n}"]}]}